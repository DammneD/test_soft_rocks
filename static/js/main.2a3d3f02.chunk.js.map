{"version":3,"sources":["components/UserInfo/UserInfo.tsx","api/users.ts","components/UserCreate/UserCreate.tsx","components/UserList/UserList.tsx","App.tsx","index.tsx"],"names":["UserInfo","user","useState","name","setName","username","email","phone","website","method","onSubmit","event","preventDefault","htmlFor","type","value","onChange","target","USERS_URL","loadUsers","a","fetch","response","ok","Error","status","statusText","json","users","uploadUser","upload","headers","body","JSON","stringify","id","UserCreate","getUsers","setUserName","setMail","handleSubmit","newUser","className","UserList","handleClick","setUsers","reverse","useEffect","map","href","to","onClick","deleteUser","filter","person","App","userId","setUserId","setUser","path","element","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2a3d3f02.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport { updateUser } from '../../api/users';\nimport { User } from '../../types';\n\ninterface Props {\n  user: User | null;\n}\n\nexport const UserInfo: React.FC<Props> = ({ user }) => {\n  const [name, setName] = useState(user?.name);\n  const [username, setUserName] = useState(user?.username);\n  const [email, setMail] = useState(user?.email);\n  const [phone, setPhone] = useState(user?.phone);\n  const [website, setWebsite] = useState(user?.website);\n\n  return (\n    user && (\n      <form\n        method=\"POST\"\n        onSubmit={(event) => event.preventDefault()}\n      >\n        <label htmlFor=\"name\">\n          Name:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"username\">\n          Name:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"email\">\n          Name:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"phone\">\n          Name:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"website\">\n          Name:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n        <button type=\"submit\">\n          update\n        </button>\n      </form>\n    )\n  )\n}\n\n","import { CreatedUser, updatedUser, User } from \"../types\";\n\nconst USERS_URL = 'https://mate.academy/students-api/users';\n\nexport async function loadUsers():Promise<User[]> {\n  const response = await fetch(USERS_URL);\n\n  if (!response.ok) {\n    throw new Error(`Opps...${response.status} - ${response.statusText}`);\n  }\n\n  const users = await response.json();\n\n  return users;\n};\n\nexport async function uploadUser(user: CreatedUser) {\n  const upload = {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n    body: JSON.stringify(user)\n  }\n\n  await fetch(USERS_URL, upload);\n};\n\nexport async function deleteUser(id: number) {\n  await fetch(`${USERS_URL}/${id}`, {method: 'DELETE'});\n};\n\nexport async function updateUser(userData: updatedUser) {\n    const update = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json; charset=UTF-8',\n      },\n      body: JSON.stringify(userData)\n    }\n  \n    await fetch(`${USERS_URL}/${userData.id}`, update);\n};\n","import React, { useState } from 'react';\nimport { uploadUser } from '../../api/users';\nimport { CreatedUser } from '../../types';\n\ninterface Props {\n  getUsers: () => void;\n}\n\nexport const UserCreate: React.FC<Props> = ({ getUsers }) => {\n  const [name, setName] = useState('');\n  const [username, setUserName] = useState('');\n  const [email, setMail] = useState('');\n\n  const clearInput = () => {\n    setName('');\n    setUserName('');\n    setMail('');\n  }\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    const newUser = {\n      name,\n      username,\n      email,\n    };\n\n    event.preventDefault();\n    await uploadUser(newUser);\n    getUsers();\n    clearInput();\n  }\n\n  return (\n    <form\n        method=\"GET\"\n        className=\"addUserForm\"\n        onSubmit={handleSubmit}\n      >\n        <label htmlFor=\"name\">\n          Name:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={name}\n            onChange={(event) => setName(event.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"surname\">\n          Surname:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={username}\n            onChange={(event) => setUserName(event.target.value)}\n          />\n        </label>\n\n        <label htmlFor=\"mail\">\n          Mail:\n          <input\n            name=\"\"\n            type=\"text\"\n            value={email}\n            onChange={(event) => setMail(event.target.value)}\n          />\n        </label>\n\n        <button type=\"submit\">\n          Add user\n        </button>\n      </form>\n  )\n}","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { deleteUser, loadUsers } from '../../api/users';\nimport { User } from '../../types';\nimport { UserCreate } from '../UserCreate/UserCreate';\nimport './UserList.scss'\n\ninterface Props {\n  handleClick: (user: User) => void;\n}\n\nexport const UserList: React.FC<Props> = ({ handleClick }) => {\n  const [users, setUsers] = useState<User[]>([]);\n\n  const getUsers = async () => {\n    const users = await loadUsers()\n    setUsers(users.reverse())\n  };\n\n  useEffect(() => {\n    getUsers();\n  }, [])\n\n\n\n  return (\n    <div className=\"users\">\n      <UserCreate \n        getUsers={getUsers}\n      />\n      <ul className=\"users__list\">\n        {users.map(user => (\n          <li key={user.id}>\n            <h2>{user.name}</h2>\n            <a\n              href={`mailto:${user.email}`}\n            >\n                {user.email}\n            </a>\n              <Link\n                to={`/user/${user.id}`}\n                onClick={() => handleClick(user)}\n              >\n                Learn more\n              </Link>\n            <button\n              type=\"button\"\n              onClick={() => {\n                deleteUser(user.id)\n                setUsers(users.filter(person => person.id !== user.id))\n              }}\n            >\n              Delete\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n","import React, { useState } from 'react';\nimport { Routes, Link, Route } from 'react-router-dom';\n\nimport './App.scss';\nimport { UserInfo } from './components/UserInfo/UserInfo';\nimport { UserList } from './components/UserList/UserList';\nimport { User } from './types';\n\nexport const App: React.FC = () => {\n  const [userId, setUserId] = useState(0);\n  const [user, setUser] = useState<User | null>(null);\n\n  const handleClick = (user: User) => {\n    setUserId(user.id);\n    setUser(user)\n  }\n\n  return (\n  <div>\n    <h1>\n\n      <Link to=\"\">\n        Home\n      </Link>\n    </h1>\n    \n    <Routes>\n      <Route path=\"\" element={\n        <UserList\n          handleClick={handleClick}\n        />}\n      />\n      <Route path={`/user/${userId}`} element={<UserInfo \n        user={user}\n      />} />\n    </Routes>\n  </div>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}